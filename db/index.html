
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Dudás Ákos">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.3.0">
    
    
      
        <title>Sample database scheme - BMEVIAUAC01 Data-driven systems</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../extra-material-theme.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="red">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sample-database-scheme" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="BMEVIAUAC01 Data-driven systems" class="md-header__button md-logo" aria-label="BMEVIAUAC01 Data-driven systems" data-md-component="logo">
      
  <img src="../img/logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BMEVIAUAC01 Data-driven systems
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sample database scheme
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Switch to dark theme"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark theme" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent=""  aria-label="Switch to light theme"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light theme" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/bmeviauac01/datadriven-en/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauac01/datadriven-en
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Data-driven systems
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Database
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../lecture-notes/architecture/" class="md-tabs__link">
        Lecture notes
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../seminar/transactions/" class="md-tabs__link">
        Seminars
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../homework/" class="md-tabs__link">
        Homework
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="BMEVIAUAC01 Data-driven systems" class="md-nav__button md-logo" aria-label="BMEVIAUAC01 Data-driven systems" data-md-component="logo">
      
  <img src="../img/logo-bme-aut.png" alt="logo">

    </a>
    BMEVIAUAC01 Data-driven systems
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/bmeviauac01/datadriven-en/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bmeviauac01/datadriven-en
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Data-driven systems
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Database
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Database" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Database
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Sample database scheme
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Sample database scheme
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-context-of-the-database" class="md-nav__link">
    The context of the database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-scheme" class="md-nav__link">
    Data scheme
  </a>
  
    <nav class="md-nav" aria-label="Data scheme">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tables-and-columns" class="md-nav__link">
    Tables and columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#peculiarities" class="md-nav__link">
    Peculiarities
  </a>
  
    <nav class="md-nav" aria-label="Peculiarities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invoicing" class="md-nav__link">
    Invoicing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoice-issuer" class="md-nav__link">
    Invoice issuer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vat" class="md-nav__link">
    VAT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#product-description" class="md-nav__link">
    Product description
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mssql/" class="md-nav__link">
        Using Microsoft SQL Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="mongodb/" class="md-nav__link">
        Using MongoDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://raw.githubusercontent.com/bmeviauac01/adatvezerelt/master/docs/db/mssql.sql" class="md-nav__link">
        Sample database: mssql.sql
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://raw.githubusercontent.com/bmeviauac01/adatvezerelt/master/docs/db/mongo.js" class="md-nav__link">
        Sample database: mongo.js
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Lecture notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lecture notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Lecture notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/architecture/" class="md-nav__link">
        Data-driven systems and the three- or multi-tier architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/transactions/" class="md-nav__link">
        Transactions in databases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/mssql/sql/" class="md-nav__link">
        SQL language, MSSQL platform-specific SQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/mssql/server-side-programming/" class="md-nav__link">
        Microsoft SQL Server programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/adonet/" class="md-nav__link">
        ADO.NET data access
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/linq/" class="md-nav__link">
        LINQ: Language Integrated Query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/ef/" class="md-nav__link">
        Defining relationships in Entity Framework
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/mongodb/" class="md-nav__link">
        MongoDB basics, operations, and the MongoDB .NET Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/di/" class="md-nav__link">
        Dependency Injection ASP.NET Core environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lecture-notes/async/" class="md-nav__link">
        Asynchronous queries and DTOs (sample WebAPI application)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bmeviauac01/rest-webapi-sample" class="md-nav__link">
        REST and WebAPI sample app (GitHub)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bmeviauac01/todoapi-di-sample" class="md-nav__link">
        ASP.NET Core DI sample app (GitHub)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/bmeviauac01/threelayered-aspnetcore-sample" class="md-nav__link">
        Sample three-tier webapp (GitHub)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Seminars
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Seminars" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Seminars
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../seminar/transactions/" class="md-nav__link">
        Transactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../seminar/mssql/" class="md-nav__link">
        Microsoft SQL Server programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../seminar/ef/" class="md-nav__link">
        Entity Framework
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../seminar/mongodb/" class="md-nav__link">
        MongoDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../seminar/jpa/" class="md-nav__link">
        JPA & Spring Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../seminar/rest/" class="md-nav__link">
        REST API & ASP.NET Web API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Homework
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Homework" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Homework
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/" class="md-nav__link">
        Optional homework
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/mssql/" class="md-nav__link">
        Exercise: MSSQL server-side programming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/adonet/" class="md-nav__link">
        Exercise: ADO.NET data access
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/ef/" class="md-nav__link">
        Exercise: Entity Framework
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/mongodb/" class="md-nav__link">
        Exercise: MongoDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/rest/" class="md-nav__link">
        Exercise: REST API and Web API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/GitHub/" class="md-nav__link">
        Submitting your work (GitHub)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/GitHub-Actions/" class="md-nav__link">
        Using GitHub Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../homework/VisualStudio/" class="md-nav__link">
        Install Visual Studio & .NET Core SDK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-context-of-the-database" class="md-nav__link">
    The context of the database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-scheme" class="md-nav__link">
    Data scheme
  </a>
  
    <nav class="md-nav" aria-label="Data scheme">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tables-and-columns" class="md-nav__link">
    Tables and columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#peculiarities" class="md-nav__link">
    Peculiarities
  </a>
  
    <nav class="md-nav" aria-label="Peculiarities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invoicing" class="md-nav__link">
    Invoicing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoice-issuer" class="md-nav__link">
    Invoice issuer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vat" class="md-nav__link">
    VAT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#product-description" class="md-nav__link">
    Product description
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bmeviauac01/datadriven-en/edit/master/docs/db/index.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="sample-database-scheme">Sample database scheme<a class="headerlink" href="#sample-database-scheme" title="Permanent link">&para;</a></h1>
<p>The examples and seminars during the semester will use a sample database. The database is a simplified retail management system with products, customers, and orders. This description details the relational schema of the database; the MongoDB variant is the appropriate mirror of this scheme.</p>
<h2 id="the-context-of-the-database">The context of the database<a class="headerlink" href="#the-context-of-the-database" title="Permanent link">&para;</a></h2>
<p>The system is designed to help the retail process of products. The <em>products</em> are grouped into hierarchical <em>categories</em>. <em>Customers</em> can browse products, place <em>orders</em>, and track the <em>status</em> of the orders.</p>
<p>Customers can have multiple <em>sites</em> (e.g., retail stores of one company with multiple addresses). The order can be completed to any of these sites. Each customer has exactly one "main site," which is where the invoices are addressed. An order can have multiple <em>items</em>; each item has its status.</p>
<p>An <em>invoice</em> is printed if the order is ready. An invoice cannot be changed once it is created. Different products have different <em>VAT</em> (value-added tax) rates. These VAT rates are subject to change over time, but these changes must not affect existing invoices.</p>
<h2 id="data-scheme">Data scheme<a class="headerlink" href="#data-scheme" title="Permanent link">&para;</a></h2>
<p>The model of the whole database is depicted below.</p>
<p><img alt="Data scheme" src="images/db.png" /></p>
<h3 id="tables-and-columns">Tables and columns<a class="headerlink" href="#tables-and-columns" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th><strong>Table</strong></th>
<th><strong>Column</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>VAT</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Percentage</td>
<td>The percentage of the value-added tax.</td>
</tr>
<tr>
<td>PaymentMethod</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Method</td>
<td>Short name of the payment method, e.g., cash or wire transfer.</td>
</tr>
<tr>
<td></td>
<td>Deadline</td>
<td>The deadline of the payment method, that is, the deadline for completing the transaction after the invoice is received.</td>
</tr>
<tr>
<td>Status</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Name</td>
<td>Short name of the status (e.g., new, processed).</td>
</tr>
<tr>
<td>Category</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Name</td>
<td>Name of the category, e.g., toys, LEGO, etc.</td>
</tr>
<tr>
<td></td>
<td>ParentCategoryID</td>
<td>Foreign key indicating the parent category; null if this is a top-level category.</td>
</tr>
<tr>
<td>Product</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Name</td>
<td>Product name.</td>
</tr>
<tr>
<td></td>
<td>Price</td>
<td>Product price without tax.</td>
</tr>
<tr>
<td></td>
<td>Stock</td>
<td>Amount of this product in stock.</td>
</tr>
<tr>
<td></td>
<td>VATID</td>
<td>Foreign key to the VAT table.</td>
</tr>
<tr>
<td></td>
<td>CategoryID</td>
<td>Foreign key to the Category table.</td>
</tr>
<tr>
<td></td>
<td>Description</td>
<td>XML description of the product.</td>
</tr>
<tr>
<td>Customer</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Name</td>
<td>Customer name.</td>
</tr>
<tr>
<td></td>
<td>BankAccount</td>
<td>Back account number of the customer.</td>
</tr>
<tr>
<td></td>
<td>Login</td>
<td>Login name for the webshop.</td>
</tr>
<tr>
<td></td>
<td>Password</td>
<td>Password for the webshop.</td>
</tr>
<tr>
<td></td>
<td>Email</td>
<td>Email address of the customer.</td>
</tr>
<tr>
<td></td>
<td>MainCustomerSiteID</td>
<td>The main site of the customer; a foreign key to the CustomerSite table.</td>
</tr>
<tr>
<td>CustomerSite</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>ZipCode</td>
<td>The zip code of the address.</td>
</tr>
<tr>
<td></td>
<td>City</td>
<td>The city part of the address.</td>
</tr>
<tr>
<td></td>
<td>Street</td>
<td>The street and house number part of the address.</td>
</tr>
<tr>
<td></td>
<td>Tel</td>
<td>Telephone number.</td>
</tr>
<tr>
<td></td>
<td>Fax</td>
<td>Fax number.</td>
</tr>
<tr>
<td></td>
<td>CustomerID</td>
<td>Foreign key to the Customer table.</td>
</tr>
<tr>
<td>Order</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Date</td>
<td>Date when the order was placed.</td>
</tr>
<tr>
<td></td>
<td>Deadline</td>
<td>Deadline until the order must be completed.</td>
</tr>
<tr>
<td></td>
<td>CustomerSiteID</td>
<td>Foreign key to the CustomerSite table; the order is billed and shipped to this site.</td>
</tr>
<tr>
<td></td>
<td>StatusID</td>
<td>Foreign key to the Status table; the actual status of the order.</td>
</tr>
<tr>
<td></td>
<td>PaymentMethodID</td>
<td>Foreign key to the PaymentMethod table; the chosen method of payment.</td>
</tr>
<tr>
<td>OrderItem</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Amount</td>
<td>The amount ordered of the specific product.</td>
</tr>
<tr>
<td></td>
<td>Price</td>
<td>The unit price of the product; by default this is the price of the product, but can be altered (e.g. for bulk order).</td>
</tr>
<tr>
<td></td>
<td>OrderID</td>
<td>Foreign key to the Order table; identifier the order this item belongs to.</td>
</tr>
<tr>
<td></td>
<td>ProductID</td>
<td>Foreign key to the Product table; identifies the product that is ordered.</td>
</tr>
<tr>
<td></td>
<td>StatusID</td>
<td>Foreign key to the Status table; the actual status of the item.</td>
</tr>
<tr>
<td>InvoiceIssuer</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Name</td>
<td>Name of the company selling the products.</td>
</tr>
<tr>
<td></td>
<td>ZipCode</td>
<td>The zip code of the address.</td>
</tr>
<tr>
<td></td>
<td>City</td>
<td>The city part of the address.</td>
</tr>
<tr>
<td></td>
<td>Street</td>
<td>The street and house number part of the address.</td>
</tr>
<tr>
<td></td>
<td>TaxIdentifier</td>
<td>Tax identifier of the company.</td>
</tr>
<tr>
<td></td>
<td>BankAccount</td>
<td>Bank account number of the company.</td>
</tr>
<tr>
<td>Invoice</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>CustomerName</td>
<td>The name of the customer; printed on the invoice.</td>
</tr>
<tr>
<td></td>
<td>CustomerZipCode</td>
<td>The zip code of the address.</td>
</tr>
<tr>
<td></td>
<td>CustomerCity</td>
<td>The city part of the address.</td>
</tr>
<tr>
<td></td>
<td>CustomerStreet</td>
<td>The street and house number part of the address.</td>
</tr>
<tr>
<td></td>
<td>PrintedCopies</td>
<td>Number of copies printed of this invoice.</td>
</tr>
<tr>
<td></td>
<td>Cancelled</td>
<td>Has the invoice been cancelled?</td>
</tr>
<tr>
<td></td>
<td>PaymentMethod</td>
<td>Payment method of the invoice (text name).</td>
</tr>
<tr>
<td></td>
<td>CreationDate</td>
<td>Date when the invoice was created.</td>
</tr>
<tr>
<td></td>
<td>DeliveryDate</td>
<td>Delivery date of the invoice.</td>
</tr>
<tr>
<td></td>
<td>PaymentDeadline</td>
<td>Deadline of the payment.</td>
</tr>
<tr>
<td></td>
<td>InvoiceIssuerID</td>
<td>Foreign key to the InvoiceIssuer table; the issuer of the invoice.</td>
</tr>
<tr>
<td></td>
<td>OrderID</td>
<td>Foreign key to the Order table; the order out of which this invoice was created.</td>
</tr>
<tr>
<td>InvoiceItem</td>
<td>ID</td>
<td>Auto-generated primary key.</td>
</tr>
<tr>
<td></td>
<td>Name</td>
<td>Name of the product; printed on the invoice.</td>
</tr>
<tr>
<td></td>
<td>Amount</td>
<td>The amount ordered of the specific product.</td>
</tr>
<tr>
<td></td>
<td>Price</td>
<td>The unit price of the product; by default this is the price of the product, but can be altered (e.g., for bulk order).</td>
</tr>
<tr>
<td></td>
<td>VATPercentage</td>
<td>The effective percentage of the tax applied.</td>
</tr>
<tr>
<td></td>
<td>InvoiceID</td>
<td>Foreign key to the Invoice table; the invoice this item is part of.</td>
</tr>
<tr>
<td></td>
<td>OrderItemID</td>
<td>Foreign key to the OrderItem table; the item out of which this invoice item was created.</td>
</tr>
</tbody>
</table>
<h3 id="peculiarities">Peculiarities<a class="headerlink" href="#peculiarities" title="Permanent link">&para;</a></h3>
<h4 id="invoicing">Invoicing<a class="headerlink" href="#invoicing" title="Permanent link">&para;</a></h4>
<p>Invoices cannot be altered once issued; they can only be canceled. Therefore all data that appears on the order are copied into the <code>Invoice</code> and <code>InvoiceItem</code> tables once the invoice is created. There is only a single original copy of the invoice; therefore, the number of printed copies is recorded.</p>
<h4 id="invoice-issuer">Invoice issuer<a class="headerlink" href="#invoice-issuer" title="Permanent link">&para;</a></h4>
<p>The issuer of the invoices changes very infrequently. However, in case it changes, existing invoices must remain unaltered. The issuer of the invoice is recorded in a separate table, and only one is in effect at all times. Each invoice references the right <code>InvoiceIssuerId</code> at the time.</p>
<h4 id="vat">VAT<a class="headerlink" href="#vat" title="Permanent link">&para;</a></h4>
<p>The <code>VAT</code> percentage of products can change at any time. However, existing invoices must not be altered. Therefore the actual VAT percentage is stored with the invoice when created and not referenced from the VAT table.</p>
<h4 id="product-description">Product description<a class="headerlink" href="#product-description" title="Permanent link">&para;</a></h4>
<p>Some products contain an additional XML description, such as the following example.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;product&gt;</span>
  <span class="nt">&lt;product_size&gt;</span>
    <span class="nt">&lt;unit&gt;</span>cm<span class="nt">&lt;/unit&gt;</span>
    <span class="nt">&lt;width&gt;</span>150<span class="nt">&lt;/width&gt;</span>
    <span class="nt">&lt;height&gt;</span>50<span class="nt">&lt;/height&gt;</span>
    <span class="nt">&lt;depth&gt;</span>150<span class="nt">&lt;/depth&gt;</span>
  <span class="nt">&lt;/product_size&gt;</span>
  <span class="nt">&lt;package_parameters&gt;</span>
    <span class="nt">&lt;number_of_packages&gt;</span>1<span class="nt">&lt;/number_of_packages&gt;</span>
    <span class="nt">&lt;package_size&gt;</span>
      <span class="nt">&lt;unit&gt;</span>cm<span class="nt">&lt;/unit&gt;</span>
      <span class="nt">&lt;width&gt;</span>150<span class="nt">&lt;/width&gt;</span>
      <span class="nt">&lt;height&gt;</span>20<span class="nt">&lt;/height&gt;</span>
      <span class="nt">&lt;depth&gt;</span>20<span class="nt">&lt;/depth&gt;</span>
    <span class="nt">&lt;/package_size&gt;</span>
  <span class="nt">&lt;/package_parameters&gt;</span>
  <span class="nt">&lt;description&gt;</span>
    Requires battery (not part of the package).
  <span class="nt">&lt;/description&gt;</span>
  <span class="nt">&lt;recommended_age&gt;</span>0-18 m<span class="nt">&lt;/recommended_age&gt;</span>
<span class="nt">&lt;/product&gt;</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Data-driven systems" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Data-driven systems
            </div>
          </div>
        </a>
      
      
        
        <a href="mssql/" class="md-footer__link md-footer__link--next" aria-label="Next: Using Microsoft SQL Server" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Using Microsoft SQL Server
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; BME VIK AUT
          </div>
        
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.instant", "navigation.top", "search.suggest"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.f8263e09.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
    
  </body>
</html>